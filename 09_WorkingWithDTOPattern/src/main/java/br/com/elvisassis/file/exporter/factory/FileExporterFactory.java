package br.com.elvisassis.file.exporter.factory;import br.com.elvisassis.data.dto.PersonDTO;import br.com.elvisassis.exception.BadRequestException;import br.com.elvisassis.file.exporter.MediaTypes;import br.com.elvisassis.file.exporter.contract.FileExporter;import br.com.elvisassis.file.exporter.impl.CsvExporter;import br.com.elvisassis.file.exporter.impl.XlsxExporter;import br.com.elvisassis.file.importer.contract.FileImporter;import br.com.elvisassis.file.importer.impl.CsvImporter;import br.com.elvisassis.file.importer.impl.XlsxImporter;import lombok.extern.slf4j.Slf4j;import org.springframework.context.ApplicationContext;import org.springframework.stereotype.Component;import java.util.List;@Slf4j@Componentpublic class FileExporterFactory {    public FileExporterFactory(ApplicationContext context) {        this.context = context;    }    private ApplicationContext context;    public FileExporter getExporter(String acceptHeader) throws Exception {        if(acceptHeader.equalsIgnoreCase(MediaTypes.APPLICATION_XLSX_VALUE)) {            return context.getBean(XlsxExporter.class);        } else if (acceptHeader.endsWith(MediaTypes.APPLICATION_CSV_VALUE)) {            return context.getBean(CsvExporter.class);        } else {            throw new BadRequestException("Invalid File Format!");        }    }}