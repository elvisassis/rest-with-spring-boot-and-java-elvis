package br.com.elvisassis.file.exporter.factory;import br.com.elvisassis.exception.BadRequestException;import br.com.elvisassis.file.exporter.MediaTypes;import br.com.elvisassis.file.exporter.contract.PersonExporter;import br.com.elvisassis.file.exporter.impl.CsvExporter;import br.com.elvisassis.file.exporter.impl.PdfExporter;import br.com.elvisassis.file.exporter.impl.XlsxExporter;import lombok.extern.slf4j.Slf4j;import org.springframework.context.ApplicationContext;import org.springframework.stereotype.Component;@Slf4j@Componentpublic class FileExporterFactory {    public FileExporterFactory(ApplicationContext context) {        this.context = context;    }    private ApplicationContext context;    public PersonExporter getExporter(String acceptHeader) throws Exception {        if(acceptHeader.equalsIgnoreCase(MediaTypes.APPLICATION_XLSX_VALUE)) {            return context.getBean(XlsxExporter.class);        } else if (acceptHeader.endsWith(MediaTypes.APPLICATION_CSV_VALUE)) {            return context.getBean(CsvExporter.class);        }else if (acceptHeader.endsWith(MediaTypes.APPLICATION_PDF_VALUE)) {            return context.getBean(PdfExporter.class);        } else {            throw new BadRequestException("Invalid File Format!");        }    }}