package br.com.elvisassis.file.importer.factory;import br.com.elvisassis.exception.BadRequestException;import br.com.elvisassis.file.importer.contract.FileImporter;import br.com.elvisassis.file.importer.impl.CsvImporter;import br.com.elvisassis.file.importer.impl.XlsxImporter;import lombok.extern.slf4j.Slf4j;import org.springframework.context.ApplicationContext;import org.springframework.stereotype.Component;@Slf4j@Componentpublic class FileImporterFactory {    public FileImporterFactory(ApplicationContext context) {        this.context = context;    }    private ApplicationContext context;    public FileImporter getImporter(String fileName) throws Exception {        if(fileName.endsWith(".xlsx")) {            return context.getBean(XlsxImporter.class);        } else if (fileName.endsWith(".csv")) {            return context.getBean(CsvImporter.class);        } else {            throw new BadRequestException("Invalid File Format!");        }    }}